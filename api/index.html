
<html>

    <head>
    
       <title>IPM</title>
    
       <meta  http-equiv="Content-Type" content="text/html; charset=iso8859-1" />
    
        <style>
            html {
                scroll-behavior: smooth;
            }
            body { 
            margin: 5%;
            margin-left: 5%; 
            margin-right: 5%; 
            font-family: sans-serif;
            font-size: small;
            }
    
            pre { 
            font-family: monospace; 
            }
    
            table.code {
            color: black;
            background-color: #ccccff;
            font-size: 100%;
            width: 100%;
            border: solid;
            border-width: thin;
            }
    
            table.output {
            color: black;
            background-color: #ffccff;
            font-size: 100%;
            width: 100%;
            border: solid;
            border-width: thin;
            }
    
            th, td {
                padding: 15px;
                text-align: left;
            }
                
                
            li {
                margin-top: 10px;
                margin-bottom: 10px;
            }
        </style>
    
    </head>
    
    
    
    <body>
    
    
    
    <h2>Descri&ccedil;&atilde;o dos m&eacute;todos dispon&iacute;veis na API de acesso &agrave;  base de dados</h2>
    
    <p>A estrutura da base de dados pode ser consultada  <a href="db_SQL">aqui</a></p>
    
    <p> Todos os dados recebidos da API ou enviados &agrave; API est&atilde;o no formato JSON. Pode testar os m&eacute;todos dispon&iacute;veis com o comando "curl", por exemplo 
    
    <br />
    <br /><tt>curl -X GET  'http://daw.deei.fct.ualg.pt/~a12345/EXAME/api/clients.php?email=jbastos@ualg.pt' </tt>
    
    <br /><tt>curl -X POST  'http://daw.deei.fct.ualg.pt/~a12345/EXAME/api/clients.php' -d '{"name":"Mary Stevens","email":"stevens@gmail.com", "password":"sWd356"}'</tt>
    
    <br /> 
    <br />ou utilizando o site <a href="https://postman.com">https://postman.com</a></p>
    
   
    <h3> Tabela clients </h3>
    <ul>
        <li><b>Verifica se um utilizador j&aacute; se encontra registado na base de dados:
        </b><br /> <b>GET</b> http://daw.deei.fct.ualg.pt/~a12345/EXAME/api/clients.php?email=jbastos@ualg.pt <br />
            retorna: JSON string {"email":"jbastos@ualg.pt"} ou null
        </li>
        <li><b>Registo de um utilizador:
        </b><br /> <b>POST</b> http://daw.deei.fct.ualg.pt/~a12345/EXAME/api/clients.php<br />
            Body:  JSON string {"name":"Jose Bastos","email":"jbastos@ualg.pt","password":"segredo"}	<br />
            retorna: JSON string {"id":"1","name":"Jose Bastos","email":"jbastos@ualg.pt"} ou null		
        </li>	
        <li><b>Login de um utilizador:
        </b><br /> <b>GET</b> http://daw.deei.fct.ualg.pt/~a12345/EXAME/api/clients.php?email=jbastos@ualg.pt&password="segredo" <br />
            retorna: JSON string {"id":"1","name":"Jose Bastos","email":"jbastos@ualg.pt"} ou null
        </li>
    </ul>

    <h3> Tabela categories </h3>	
    <ul>	    
        <li><b>Todas as categorias:</b>
        <br /> <b>GET</b> http://daw.deei.fct.ualg.pt/~a12345/EXAME/api/categories.php<br />
            retorna: JSON string [{"id":"1","name":"Coffee"},  ...]
        </li>
    </ul>

    <h3> Tabela beverages </h3>	
    <ul>	    
        <li><b>Todos as bebidas:</b>
        <br /> <b>GET</b> http://daw.deei.fct.ualg.pt/~a12345/EXAME/api/beverages.php<br />
            retorna: JSON string [{"cat_id":"1",cat_name":"Coffee","id":"1","name":"Single Cup Brew","description":"Fresh Brewed coffee and steamed milk", ...},  ...]
        </li>
    </ul>
    

    
    <h3> Tabela bookings </h3>	
    <ul>	
    
        <li><b>Todas as reservas do utilizador:</b>
        <br /> <b>GET</b> http://daw.deei.fct.ualg.pt/~a12345/EXAME/api/bookings.php?client_id=35<br />
            retorna: JSON string [{"id":"1","created_at":"2021-12-03 18:20:31","client_id":"35","date":"2021-12-03", ...}, ...]	ou null 
        </li>
        <li><b>Registo de uma nova reserva do utilizador:</b> 
        <br /> <b>POST</b> http://daw.deei.fct.ualg.pt/~a12345/EXAME/api/bookings.php<br />
            Body: JSON string {"client_id":"19","date":"2021-12-03","time":"4:00 pm", "phone":"99999999", "n_persons":"6"}<br />
            retorna: JSON string {"id":"1","created_at":"2021-12-03 18:20:31",client_id":"19","date":"2021-12-03","time":"4:00 pm", "phone":"99999999", "n_persons":"6"}
        </li>
    
    </ul>
    
    </body>
    
    </html>
    
